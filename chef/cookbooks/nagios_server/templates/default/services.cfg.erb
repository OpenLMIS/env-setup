<% @nodes_from_solr.each do |node| %>
### <%= node.fqdn %> ###
define service{
  use									 generic-service
  host_name				  <%=node.fqdn %>
  service_description	 SSH
  check_command				 check_nrpe!check_ssh<%= "!-p#{node['ssh_port']}" unless node['ssh_port'].nil?%> 
  contact_groups			 admins
}

define service{
  use                    generic-service
  host_name          <%= node.fqdn %>
  service_description    Disk Space
  check_command          check_nrpe!check_disk
  contact_groups         admins
  notification_interval  2880          ;2 days
  notification_period    workhours
}

define service{
  use									   generic-service
  host_name					 <%= node.fqdn %>
  service_description	   CPU Load
  check_command				   check_nrpe!check_load
  contact_groups				 admins
  notification_interval  2880					;2 days
  notification_period	   workhours
}

define service{
  use									   generic-service
  host_name					 <%= node.fqdn %>
  service_description	   Disk Usage 
  check_command				   check_nrpe!check_space
  contact_groups				 admins
  notification_interval  2880					;2 days
  notification_period	   workhours
}

define service{
  use									   generic-service
  host_name					 <%= node.fqdn %>
  service_description	   Disk Inode
  check_command				   check_nrpe!check_inode
  contact_groups				 admins
  notification_interval  2880					;2 days
  notification_period	   workhours
}

define service{
  use									   generic-service
  host_name					 <%= node.fqdn %>
  service_description	   Memory
  check_command				   check_nrpe!check_memory
  contact_groups				 admins
  notification_interval  2880					;2 days
  notification_period	   workhours
}

define service{
  use									   generic-service
  host_name					 <%= node.fqdn %>
  service_description	   Procs
  check_command				   check_nrpe!check_procs
  contact_groups				 admins
  notification_interval  2880					;2 days
  notification_period	   workhours
}

<% end %>
